{"version":3,"file":"603.bundle.js","mappings":"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","sources":["webpack://discount_today/./node_modules/@coreui/icons/dist/esm/free/cil-warning.js","webpack://discount_today/./src/layout/DefaultLayout.scss","webpack://discount_today/./src/constants/baseData.constant.ts","webpack://discount_today/./src/contexts/BaseProvider.tsx","webpack://discount_today/./src/layout/DefaultLayout.scss?dc3a","webpack://discount_today/./src/layout/DefaultLayout.tsx"],"sourcesContent":["var cilWarning = [\"512 512\", \"<rect width='32' height='176' x='240' y='176' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><rect width='32' height='32' x='240' y='384' fill='var(--ci-primary-color, currentColor)' class='ci-primary'/><path fill='var(--ci-primary-color, currentColor)' d='M274.014,16H237.986L16,445.174V496H496V445.174ZM464,464H48V452.959L256,50.826,464,452.959Z' class='ci-primary'/>\"];\n\nexport { cilWarning };\n//# sourceMappingURL=cil-warning.js.map\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".error-toast{position:fixed;top:10rem;left:50%;transform:translateX(-50%)}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/layout/DefaultLayout.scss\"],\"names\":[],\"mappings\":\"AAAA,aACE,cAAA,CACA,SAAA,CACA,QAAA,CACA,0BAAA\",\"sourcesContent\":[\".error-toast {\\n  position: fixed;\\n  top: 10rem;\\n  left: 50%;\\n  transform: translateX(-50%);\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","const ALL_GROUP_OPTION = { name: \"Összes\", id: \"all\" };\nconst ALL_TYPE_OPTION = { name: \"Összes\", name_plural: \"-\", id: \"all\" };\nconst INITIAL_BASE_DATA = {\n    cities: [\"Összes\"],\n    offers: [],\n    storeTypes: [ALL_TYPE_OPTION],\n    storeGroups: [ALL_GROUP_OPTION],\n};\nconst INITIAL_SEARCH_CONDITION = {\n    city: INITIAL_BASE_DATA.cities[0],\n    storeType: INITIAL_BASE_DATA.storeTypes[0],\n    storeGroup: INITIAL_BASE_DATA.storeGroups[0],\n};\nconst INITIAL_OFFER_CONDITION = {\n    city: \"all\",\n    storeGroup: \"all\",\n    storeType: \"all\",\n};\nexport { ALL_GROUP_OPTION, ALL_TYPE_OPTION, INITIAL_BASE_DATA, INITIAL_OFFER_CONDITION, INITIAL_SEARCH_CONDITION };\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { createContext, useEffect, useState } from \"react\";\nimport { axiosPublic } from \"../api/axios\";\nimport apiURL from \"../constants/apiUrl.constant\";\nimport { INITIAL_BASE_DATA, INITIAL_OFFER_CONDITION, INITIAL_SEARCH_CONDITION } from \"../constants/baseData.constant\";\nconst BaseContext = createContext({\n    baseData: INITIAL_BASE_DATA,\n    error: null,\n    fetchOffers: () => { },\n    getAllBaseData: () => { },\n    getTopFiveAction: () => { },\n    isLoadingBaseData: false,\n    searchCondition: INITIAL_SEARCH_CONDITION,\n    setSearchCondition: () => { },\n});\nconst getBaseData = (endpoint) => __awaiter(void 0, void 0, void 0, function* () {\n    const response = yield axiosPublic.get(endpoint, {\n    //withCredentials: true\n    });\n    return response.data;\n});\nconst getOffers = (conditions) => __awaiter(void 0, void 0, void 0, function* () {\n    const data = {\n        city: conditions.city === \"Összes\" ? \"all\" : conditions.city,\n        store_group: conditions.storeGroup,\n        store_type: conditions.storeType,\n    };\n    const response = yield axiosPublic.post(apiURL.offers, JSON.stringify(data), {\n        headers: {\n            \"Content-Type\": \"application/json\",\n            // withCredentials: true,\n        },\n    });\n    return response.data;\n});\nexport const BaseProvider = ({ children, error, setError, setErrorToastVisible, }) => {\n    const [isLoadingBaseData, setIsLoadingBaseData] = useState(false);\n    const [baseData, setBaseData] = useState(INITIAL_BASE_DATA);\n    const [searchCondition, setSearchCondition] = useState(INITIAL_SEARCH_CONDITION);\n    const fetchOffers = (conditions) => __awaiter(void 0, void 0, void 0, function* () {\n        setError(null);\n        setIsLoadingBaseData(true);\n        try {\n            const offers = yield getOffers(conditions);\n            setIsLoadingBaseData(false);\n            setBaseData((data) => (Object.assign(Object.assign({}, data), { offers })));\n        }\n        catch (err) {\n            console.error(err);\n            setIsLoadingBaseData(false);\n            setError(err);\n        }\n    });\n    const getAllBaseData = () => {\n        setError(null);\n        setIsLoadingBaseData(true);\n        const allPromise = Promise.all([\n            getBaseData(apiURL.storeTypes),\n            getBaseData(apiURL.storeGroups),\n            getBaseData(apiURL.cities),\n            getOffers(INITIAL_OFFER_CONDITION),\n        ]);\n        allPromise\n            .then((responseData) => {\n            console.info(\"responseData: \", responseData);\n            setIsLoadingBaseData(false);\n            setBaseData({\n                storeTypes: [...INITIAL_BASE_DATA.storeTypes, ...responseData[0]],\n                storeGroups: [...INITIAL_BASE_DATA.storeGroups, ...responseData[1]],\n                cities: [...INITIAL_BASE_DATA.cities, ...responseData[2]],\n                offers: responseData[3],\n            });\n        })\n            .catch((err) => {\n            console.error(err);\n            setIsLoadingBaseData(false);\n            setError(err);\n        });\n    };\n    const getTopFiveAction = () => __awaiter(void 0, void 0, void 0, function* () {\n        setError(null);\n        setIsLoadingBaseData(true);\n        try {\n            const response = yield axiosPublic.get(apiURL.top5, {\n            //withCredentials: true\n            });\n            const offers = response.data;\n            setBaseData((data) => (Object.assign(Object.assign({}, data), { offers })));\n            setIsLoadingBaseData(false);\n            setSearchCondition(INITIAL_SEARCH_CONDITION);\n        }\n        catch (err) {\n            console.error(err);\n            setIsLoadingBaseData(false);\n            setError(err);\n        }\n    });\n    useEffect(() => {\n        if (error) {\n            setErrorToastVisible(true);\n        }\n    }, [error]);\n    return (_jsx(BaseContext.Provider, Object.assign({ value: {\n            baseData,\n            error,\n            fetchOffers,\n            getAllBaseData,\n            getTopFiveAction,\n            isLoadingBaseData,\n            searchCondition,\n            setSearchCondition,\n        } }, { children: children })));\n};\nexport default BaseContext;\n","\n      import API from \"!../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./DefaultLayout.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../node_modules/css-loader/dist/cjs.js!../../node_modules/sass-loader/dist/cjs.js!./DefaultLayout.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useCallback, useState } from \"react\";\nimport { Outlet } from \"react-router-dom\";\nimport { CNavLink, CToast, CToastBody, CToastClose } from \"@coreui/react\";\nimport { Navigation, ModalsContainer } from \"../components\";\nimport { ModalEnum } from \"../interfaces\";\nimport { BaseProvider } from \"../contexts\";\nimport CIcon from \"@coreui/icons-react\";\nimport { cilWarning } from \"@coreui/icons\";\nimport \"./DefaultLayout.scss\";\nconst INITIAL_MODALS_VISIBILITY = {\n    [ModalEnum.login]: false,\n    [ModalEnum.userData]: false,\n    [ModalEnum.preferences]: false,\n    [ModalEnum.registration]: false,\n};\nconst DefaultLayout = () => {\n    const [error, setError] = useState(null);\n    const [errorToastVisible, setErrorToastVisible] = useState(false);\n    const [sidebarVisible, setSidebarVisible] = useState(false);\n    const [showTop5Search, setShowTop5Search] = useState(false);\n    const [modalsVisibility, setModalsVisibility] = useState(INITIAL_MODALS_VISIBILITY);\n    const closeModal = useCallback(() => setModalsVisibility(INITIAL_MODALS_VISIBILITY), []);\n    const toggleSidebar = (state) => {\n        if (typeof state === \"boolean\") {\n            setSidebarVisible(state);\n            return;\n        }\n        setSidebarVisible(!sidebarVisible);\n    };\n    const openModal = useCallback((modalType) => {\n        setModalsVisibility(Object.assign(Object.assign({}, INITIAL_MODALS_VISIBILITY), { [modalType]: true }));\n    }, []);\n    const closeToast = () => {\n        setError(null);\n        setErrorToastVisible(false);\n    };\n    return (\n    // <AuthProvider>\n    _jsxs(BaseProvider, Object.assign({ error: error, setError: setError, setErrorToastVisible: setErrorToastVisible }, { children: [_jsxs(\"div\", Object.assign({ className: \"wrapper d-flex flex-column min-vh-100 bg-light\" }, { children: [_jsx(Navigation, { openModal: openModal, toggleSidebar: toggleSidebar }), _jsx(Outlet, { context: {\n                            errorToastVisible,\n                            openModal,\n                            setErrorToastVisible,\n                            setShowTop5Search,\n                            showTop5Search,\n                            sidebarVisible,\n                            toggleSidebar,\n                        } })] })), _jsx(ModalsContainer, { modalsVisibility: modalsVisibility, closeModal: closeModal }), _jsx(CToast, Object.assign({ autohide: false, visible: errorToastVisible, color: \"danger\", className: \"text-white align-items-center error-toast\" }, { children: _jsxs(\"div\", Object.assign({ className: \"d-flex\" }, { children: [_jsxs(CToastBody, { children: [_jsx(CIcon, { icon: cilWarning, className: \"me-2\" }), \"Hiba a kapcsolatban. K\\u00E9rj\\u00FCk jelezd nek\\u00FCnk! \", _jsx(\"br\", {}), _jsx(CNavLink, Object.assign({ className: \"nav-link\", href: \"mailto:info@sporoljma.hu\" }, { children: \"info@sporoljma.hu\" }))] }), _jsx(CToastClose, { className: \"me-2 m-auto\", onClick: closeToast, white: true })] })) }))] }))\n    // </AuthProvider>\n    );\n};\nexport default DefaultLayout;\n"],"names":["cilWarning","___CSS_LOADER_EXPORT___","push","module","id","INITIAL_BASE_DATA","cities","offers","storeTypes","name","name_plural","storeGroups","INITIAL_SEARCH_CONDITION","city","storeType","storeGroup","INITIAL_OFFER_CONDITION","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","BaseContext","createContext","baseData","error","fetchOffers","getAllBaseData","getTopFiveAction","isLoadingBaseData","searchCondition","setSearchCondition","getBaseData","endpoint","data","getOffers","conditions","store_group","store_type","JSON","stringify","headers","BaseProvider","children","setError","setErrorToastVisible","setIsLoadingBaseData","useState","setBaseData","useEffect","Provider","Object","assign","err","console","all","responseData","info","catch","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","INITIAL_MODALS_VISIBILITY","errorToastVisible","sidebarVisible","setSidebarVisible","showTop5Search","setShowTop5Search","modalsVisibility","setModalsVisibility","closeModal","useCallback","toggleSidebar","state","openModal","modalType","className","context","autohide","visible","color","icon","href","onClick","white"],"sourceRoot":""}